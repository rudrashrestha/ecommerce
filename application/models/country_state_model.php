<?phpclass Country_state_model extends CI_Model{       public function __construct()       {               parent::__construct();       }       /**        *         */       public function list_states()       {             return $this->db->get('states')->result_array();       }       /**        *        * @param type $post         */       public function save_states($post)       {               unset($post['submit']);                              $this->db->insert('states',$post);       }       /**        *        * @param type $id         */       public function get_states($id)       {                            return $this->db->where('id',$id)->get('states')->row();                      }       /**        *        * @param type $post         */       public function update_states($id,$post)       {               unset($post['edit']);               $this->db->where('id',$id)->update('states',$post);       }       public function list_locations()       {               return $this->db->get('locations')->result_array();       }              public function save_locations($post)       {               unset($post['submit']);               $this->db->insert('locations',$post);       }        public function get_locations($id)       {                            return $this->db->where('id',$id)->get('locations')->row();                      }       public function update_locations($id, $post)       {                unset($post['edit']);                $this->db->where('id',$id)->update('locations',$post);           }       /**        *         */       public function get_countries()       {                    return $this->db->get('countries')->result_array();         }       /**        *         */       public function add_country($post)       {               unset($post['submit']);               $this->db->insert('countries',$post);       }       /**        *         */       public function get_countries_by_id($id)       {               return $this->db->where('id',$id)->get('countries')->row();         }              public function get_countries_by_name($cName)       {               return $this->db->where('name',$cName)->get('countries')->row();         }              public function get_state_by_country($id)       {                  $sql = "SELECT * FROM `locations` WHERE published = 1 AND states_id IN (SELECT id FROM states WHERE published = 1 AND countries_id = $id)";            $query = $this->db->query($sql);            echo '<br/>',$this->db->last_query();            return $query->result();       }       /**        *         */       public function edit_country($id,$post)       {              unset($post['edit']);               $this->db->where('id',$id)->update('countries',$post);        }       /**        *         */       public function get_name($country_id)       {               $this->db->where('id',$country_id);               return $this->db->get('countries')->row()->name;                      }}